<!DOCTYPE html>
<html lang="en-US">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>SMTP Appender | @tsed/logger - A Node.js and TypeScript multi chanel logger</title>
    <meta name="description" content="A Node.js and TypeScript multi chanel logger">
    <meta name="generator" content="VuePress 1.3.0">
    
    
    <link rel="preload" href="/assets/css/0.styles.771fcaf2.css" as="style"><link rel="preload" href="/assets/js/app.304af22d.js" as="script"><link rel="preload" href="/assets/js/4.98a063a0.js" as="script"><link rel="preload" href="/assets/js/1.3fc21ef4.js" as="script"><link rel="preload" href="/assets/js/62.5836e737.js" as="script"><link rel="prefetch" href="/assets/js/10.4f7e374a.js"><link rel="prefetch" href="/assets/js/11.6f439fed.js"><link rel="prefetch" href="/assets/js/12.318f7cfa.js"><link rel="prefetch" href="/assets/js/13.c4db9d62.js"><link rel="prefetch" href="/assets/js/14.2d785be4.js"><link rel="prefetch" href="/assets/js/15.e49258a1.js"><link rel="prefetch" href="/assets/js/16.db0de428.js"><link rel="prefetch" href="/assets/js/17.eddc5072.js"><link rel="prefetch" href="/assets/js/18.04af8180.js"><link rel="prefetch" href="/assets/js/19.7c87be4e.js"><link rel="prefetch" href="/assets/js/20.af0e955c.js"><link rel="prefetch" href="/assets/js/21.15613f67.js"><link rel="prefetch" href="/assets/js/22.5c57fe0d.js"><link rel="prefetch" href="/assets/js/23.b83d08d3.js"><link rel="prefetch" href="/assets/js/24.ed9fe671.js"><link rel="prefetch" href="/assets/js/25.bfe6b316.js"><link rel="prefetch" href="/assets/js/26.503ff1ef.js"><link rel="prefetch" href="/assets/js/27.f1d14818.js"><link rel="prefetch" href="/assets/js/28.f6aefe7e.js"><link rel="prefetch" href="/assets/js/29.ddf6e15f.js"><link rel="prefetch" href="/assets/js/30.0fb194d4.js"><link rel="prefetch" href="/assets/js/31.9d8f00b8.js"><link rel="prefetch" href="/assets/js/32.fc7fc4c0.js"><link rel="prefetch" href="/assets/js/33.6cb881db.js"><link rel="prefetch" href="/assets/js/34.bb5d25a7.js"><link rel="prefetch" href="/assets/js/35.c713053d.js"><link rel="prefetch" href="/assets/js/36.aa92c613.js"><link rel="prefetch" href="/assets/js/37.8d60a10a.js"><link rel="prefetch" href="/assets/js/38.7d4e4593.js"><link rel="prefetch" href="/assets/js/39.ab769913.js"><link rel="prefetch" href="/assets/js/40.8cd0420a.js"><link rel="prefetch" href="/assets/js/41.128b5f87.js"><link rel="prefetch" href="/assets/js/42.c3f194e4.js"><link rel="prefetch" href="/assets/js/43.35046f4a.js"><link rel="prefetch" href="/assets/js/44.aa506d38.js"><link rel="prefetch" href="/assets/js/45.a098b2c2.js"><link rel="prefetch" href="/assets/js/46.d52b9e04.js"><link rel="prefetch" href="/assets/js/47.cea7760d.js"><link rel="prefetch" href="/assets/js/48.06c89fd1.js"><link rel="prefetch" href="/assets/js/49.f485458f.js"><link rel="prefetch" href="/assets/js/5.54cc9c29.js"><link rel="prefetch" href="/assets/js/50.6e642fc6.js"><link rel="prefetch" href="/assets/js/51.7a69e337.js"><link rel="prefetch" href="/assets/js/52.f4cb473f.js"><link rel="prefetch" href="/assets/js/53.64995271.js"><link rel="prefetch" href="/assets/js/54.fe5a37b6.js"><link rel="prefetch" href="/assets/js/55.cf5f253a.js"><link rel="prefetch" href="/assets/js/56.d64fc24e.js"><link rel="prefetch" href="/assets/js/57.2585ab8b.js"><link rel="prefetch" href="/assets/js/58.729d7128.js"><link rel="prefetch" href="/assets/js/59.66aadb8f.js"><link rel="prefetch" href="/assets/js/6.fc24ed63.js"><link rel="prefetch" href="/assets/js/60.b8cae87c.js"><link rel="prefetch" href="/assets/js/61.7ccf1537.js"><link rel="prefetch" href="/assets/js/63.b6348c73.js"><link rel="prefetch" href="/assets/js/64.96c50c8e.js"><link rel="prefetch" href="/assets/js/65.3efccb79.js"><link rel="prefetch" href="/assets/js/66.cef14e0f.js"><link rel="prefetch" href="/assets/js/67.7b701f66.js"><link rel="prefetch" href="/assets/js/68.fedea50d.js"><link rel="prefetch" href="/assets/js/69.c24b3b99.js"><link rel="prefetch" href="/assets/js/7.d3b4d39a.js"><link rel="prefetch" href="/assets/js/70.97d254a8.js"><link rel="prefetch" href="/assets/js/71.a730a1df.js"><link rel="prefetch" href="/assets/js/72.5af17ff2.js"><link rel="prefetch" href="/assets/js/73.19e28855.js"><link rel="prefetch" href="/assets/js/74.29417357.js"><link rel="prefetch" href="/assets/js/75.13ed8707.js"><link rel="prefetch" href="/assets/js/76.b104824d.js"><link rel="prefetch" href="/assets/js/77.f9570393.js"><link rel="prefetch" href="/assets/js/8.68e90b0e.js"><link rel="prefetch" href="/assets/js/9.93e3bee8.js"><link rel="prefetch" href="/assets/js/vendors~docsearch.65e03999.js">
    <link rel="stylesheet" href="/assets/css/0.styles.771fcaf2.css">
  </head>
  <body>
    <div id="app" data-server-rendered="true"><div class="theme-container"><header class="navbar --fluid"><div class="container"><div class="sidebar-button"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="img" viewBox="0 0 448 512" class="icon"><path fill="currentColor" d="M436 124H12c-6.627 0-12-5.373-12-12V80c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12z"></path></svg></div> <a href="/" class="home-link router-link-active"><!----> <span class="site-name">
      Ts.Logger
    </span></a> <div class="links"><div class="search-box"><input aria-label="Search" autocomplete="off" spellcheck="false" value=""> <div class="search-box__wrapper"></div> <ul class="suggestions align-right"></ul></div> <nav class="nav-links can-hide"><div class="nav-item"><a href="/getting-started.html" class="nav-link">Getting started</a></div><div class="nav-item"><div class="dropdown-wrapper"><a class="dropdown-title"><span class="title">Appenders</span> <span class="arrow right"></span></a> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/appenders/index.html" class="nav-link">
          Configuration
        </a></li><li class="dropdown-item"><h4>Built-in appenders</h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/appenders/console.html" class="nav-link">
              Console
            </a></li><li class="dropdown-subitem"><a href="/appenders/file.html" class="nav-link">
              File
            </a></li><li class="dropdown-subitem"><a href="/appenders/file-date.html" class="nav-link">
              File date
            </a></li><li class="dropdown-subitem"><a href="/appenders/stdout.html" class="nav-link">
              Stdout
            </a></li><li class="dropdown-subitem"><a href="/appenders/stderr.html" class="nav-link">
              Stderr
            </a></li><li class="dropdown-subitem"><a href="/appenders/smtp.html" class="nav-link router-link-exact-active router-link-active">
              Smtp
            </a></li></ul></li><li class="dropdown-item"><h4>Advanced</h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/appenders/custom.html" class="nav-link">
              Custom appender
            </a></li></ul></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><a class="dropdown-title"><span class="title">Layouts</span> <span class="arrow right"></span></a> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/layouts/index.html" class="nav-link">
          Configuration
        </a></li><li class="dropdown-item"><h4>Built-in layouts</h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/layouts/basic.html" class="nav-link">
              Basic
            </a></li><li class="dropdown-subitem"><a href="/layouts/colored.html" class="nav-link">
              Colored
            </a></li><li class="dropdown-subitem"><a href="/layouts/dummy.html" class="nav-link">
              Dummy
            </a></li><li class="dropdown-subitem"><a href="/layouts/message-pass-through.html" class="nav-link">
              Message Pass-Through
            </a></li><li class="dropdown-subitem"><a href="/layouts/json.html" class="nav-link">
              Json
            </a></li><li class="dropdown-subitem"><a href="/layouts/pattern.html" class="nav-link">
              Pattern
            </a></li></ul></li><li class="dropdown-item"><h4>Advanced</h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/layouts/custom.html" class="nav-link">
              Custom layouts
            </a></li></ul></li></ul></div></div><div class="nav-item"><a href="/api.html" class="nav-link">Api Reference</a></div></nav> <div class="links-external"><!----> <div class="links-external-item"><a href="https://github.com/TypedProject/logger" title="Github" target="_blank" rel="noopener noreferrer" class="repo-link"><svg aria-hidden="true" data-prefix="fab" data-icon="github" role="img" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512" data-fa-i2svg class="svg-inline--fa fa-github fa-w-16"><path fill="currentColor" d="M165.9 397.4c0 2-2.3 3.6-5.2 3.6-3.3.3-5.6-1.3-5.6-3.6 0-2 2.3-3.6 5.2-3.6 3-.3 5.6 1.3 5.6 3.6zm-31.1-4.5c-.7 2 1.3 4.3 4.3 4.9 2.6 1 5.6 0 6.2-2s-1.3-4.3-4.3-5.2c-2.6-.7-5.5.3-6.2 2.3zm44.2-1.7c-2.9.7-4.9 2.6-4.6 4.9.3 2 2.9 3.3 5.9 2.6 2.9-.7 4.9-2.6 4.6-4.6-.3-1.9-3-3.2-5.9-2.9zM244.8 8C106.1 8 0 113.3 0 252c0 110.9 69.8 205.8 169.5 239.2 12.8 2.3 17.3-5.6 17.3-12.1 0-6.2-.3-40.4-.3-61.4 0 0-70 15-84.7-29.8 0 0-11.4-29.1-27.8-36.6 0 0-22.9-15.7 1.6-15.4 0 0 24.9 2 38.6 25.8 21.9 38.6 58.6 27.5 72.9 20.9 2.3-16 8.8-27.1 16-33.7-55.9-6.2-112.3-14.3-112.3-110.5 0-27.5 7.6-41.3 23.6-58.9-2.6-6.5-11.1-33.3 2.6-67.9 20.9-6.5 69 27 69 27 20-5.6 41.5-8.5 62.8-8.5s42.8 2.9 62.8 8.5c0 0 48.1-33.6 69-27 13.7 34.7 5.2 61.4 2.6 67.9 16 17.7 25.8 31.5 25.8 58.9 0 96.5-58.9 104.2-114.8 110.5 9.2 7.9 17 22.9 17 46.4 0 33.7-.3 75.4-.3 83.6 0 6.5 4.6 14.4 17.3 12.1C428.2 457.8 496 362.9 496 252 496 113.3 383.5 8 244.8 8zM97.2 352.9c-1.3 1-1 3.3.7 5.2 1.6 1.6 3.9 2.3 5.2 1 1.3-1 1-3.3-.7-5.2-1.6-1.6-3.9-2.3-5.2-1zm-10.8-8.1c-.7 1.3.3 2.9 2.3 3.9 1.6 1 3.6.7 4.3-.7.7-1.3-.3-2.9-2.3-3.9-2-.6-3.6-.3-4.3.7zm32.4 35.6c-1.6 1.3-1 4.3 1.3 6.2 2.3 2.3 5.2 2.6 6.5 1 1.3-1.3.7-4.3-1.3-6.2-2.2-2.3-5.2-2.6-6.5-1zm-11.4-14.7c-1.6 1-1.6 3.6 0 5.9 1.6 2.3 4.3 3.3 5.6 2.3 1.6-1.3 1.6-3.9 0-6.2-1.4-2.3-4-3.3-5.6-2z"></path></svg></a></div> <div class="links-external-item"><a href="https://stackoverflow.com/questions/tagged/tsed" title="Stackoverflow" target="_blank" rel="noopener noreferrer" class="stackoverflow-link"><svg aria-hidden="true" data-prefix="fab" data-icon="stack-overflow" role="img" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512" data-fa-i2svg class="svg-inline--fa fa-stack-overflow fa-w-12"><path fill="currentColor" d="M293.7 300l-181.2-84.5 16.7-36.5 181.3 84.7-16.8 36.3zm48-76L188.2 95.7l-25.5 30.8 153.5 128.3 25.5-30.8zm39.6-31.7L262 32l-32 24 119.3 160.3 32-24zM290.7 311L95 269.7 86.8 309l195.7 41 8.2-39zm31.6 129H42.7V320h-40v160h359.5V320h-40v120zm-39.8-80h-200v39.7h200V360z"></path></svg></a></div> <div class="links-external-item"><a href="https://gitter.im/Tsed-io/community" title="Gitter tchat room" target="_blank" rel="noopener noreferrer" class="gitter-link"><svg version="1.1" role="img" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" viewBox="0 0 25 25" class="svg-inline--fa fa-gitter fa-w-16"><rect x="15" y="5" width="2" height="10"></rect> <rect x="10" y="5" width="2" height="20"></rect> <rect x="5" y="5" width="2" height="20"></rect> <rect width="2" height="15"></rect></svg></a></div> <div class="links-external-item"><a href="https://opencollective.com/tsed" title="Sponsor" target="_blank" rel="noopener noreferrer" class="sponsor-link"><svg viewBox="0 0 14 16" version="1.1" aria-hidden="true" class="octicon octicon-heart text-pink v-align-middle"><path fill-rule="evenodd" d="M9 2c-.97 0-1.69.42-2.2 1-.51.58-.78.92-.8 1-.02-.08-.28-.42-.8-1-.52-.58-1.17-1-2.2-1-1.632.086-2.954 1.333-3 3 0 .52.09 1.52.67 2.67C1.25 8.82 3.01 10.61 6 13c2.98-2.39 4.77-4.17 5.34-5.33C11.91 6.51 12 5.5 12 5c-.047-1.69-1.342-2.913-3-3z"></path></svg></a></div></div></div></div></header> <main class="main-content"><div class="sidebar-mask"></div> <aside class="sidebar"><nav class="nav-links"><div class="nav-item"><a href="/getting-started.html" class="nav-link">Getting started</a></div><div class="nav-item"><div class="dropdown-wrapper"><a class="dropdown-title"><span class="title">Appenders</span> <span class="arrow right"></span></a> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/appenders/index.html" class="nav-link">
          Configuration
        </a></li><li class="dropdown-item"><h4>Built-in appenders</h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/appenders/console.html" class="nav-link">
              Console
            </a></li><li class="dropdown-subitem"><a href="/appenders/file.html" class="nav-link">
              File
            </a></li><li class="dropdown-subitem"><a href="/appenders/file-date.html" class="nav-link">
              File date
            </a></li><li class="dropdown-subitem"><a href="/appenders/stdout.html" class="nav-link">
              Stdout
            </a></li><li class="dropdown-subitem"><a href="/appenders/stderr.html" class="nav-link">
              Stderr
            </a></li><li class="dropdown-subitem"><a href="/appenders/smtp.html" class="nav-link router-link-exact-active router-link-active">
              Smtp
            </a></li></ul></li><li class="dropdown-item"><h4>Advanced</h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/appenders/custom.html" class="nav-link">
              Custom appender
            </a></li></ul></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><a class="dropdown-title"><span class="title">Layouts</span> <span class="arrow right"></span></a> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/layouts/index.html" class="nav-link">
          Configuration
        </a></li><li class="dropdown-item"><h4>Built-in layouts</h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/layouts/basic.html" class="nav-link">
              Basic
            </a></li><li class="dropdown-subitem"><a href="/layouts/colored.html" class="nav-link">
              Colored
            </a></li><li class="dropdown-subitem"><a href="/layouts/dummy.html" class="nav-link">
              Dummy
            </a></li><li class="dropdown-subitem"><a href="/layouts/message-pass-through.html" class="nav-link">
              Message Pass-Through
            </a></li><li class="dropdown-subitem"><a href="/layouts/json.html" class="nav-link">
              Json
            </a></li><li class="dropdown-subitem"><a href="/layouts/pattern.html" class="nav-link">
              Pattern
            </a></li></ul></li><li class="dropdown-item"><h4>Advanced</h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/layouts/custom.html" class="nav-link">
              Custom layouts
            </a></li></ul></li></ul></div></div><div class="nav-item"><a href="/api.html" class="nav-link">Api Reference</a></div></nav>  <ul class="sidebar-links"><li><div class="sidebar-group first"><p class="sidebar-heading"><span>Configuration</span> <!----></p> <ul class="sidebar-group-items"><li><a href="/appenders/" class="sidebar-link">Appenders</a></li></ul></div></li><li><div class="sidebar-group"><p class="sidebar-heading open"><span>Built-in appenders</span> <!----></p> <ul class="sidebar-group-items"><li><a href="/appenders/console.html" class="sidebar-link">Console Appender</a></li><li><a href="/appenders/file.html" class="sidebar-link">File Appender</a></li><li><a href="/appenders/file-date.html" class="sidebar-link">Date Rolling File Appender</a></li><li><a href="/appenders/stdout.html" class="sidebar-link">Standard Out Appender</a></li><li><a href="/appenders/stderr.html" class="sidebar-link">Standard Error Appender</a></li><li><a href="/appenders/smtp.html" class="active sidebar-link">SMTP Appender</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/appenders/smtp.html#configuration" class="sidebar-link">Configuration</a></li><li class="sidebar-sub-header"><a href="/appenders/smtp.html#example-default-config" class="sidebar-link">Example (default config)</a></li><li class="sidebar-sub-header"><a href="/appenders/smtp.html#example-logs-as-attachments-batched" class="sidebar-link">Example (logs as attachments, batched)</a></li><li class="sidebar-sub-header"><a href="/appenders/smtp.html#example-custom-smtp-host" class="sidebar-link">Example (custom SMTP host)</a></li></ul></li></ul></div></li><li><div class="sidebar-group"><p class="sidebar-heading"><span>Advanced</span> <!----></p> <ul class="sidebar-group-items"><li><a href="/appenders/custom.html" class="sidebar-link">Custom Appender</a></li></ul></div></li></ul> </aside> <div class="page"><article class="container"> <div class="content__default"><h1 id="smtp-appender"><a href="#smtp-appender" class="header-anchor">#</a> SMTP Appender</h1> <p>Sends log events as emails. If you use this appender, you should also call <code>logger.shutdown</code> when your application closes so that any remaining emails can be sent. Many of the configuration options below are passed through to nodemailer, so you should read their docs to get the most out of this appender.</p> <div class="language-bash line-numbers-mode"><pre class="language-bash"><code><span class="token function">npm</span> <span class="token function">install</span> @tsed/logger
<span class="token function">npm</span> <span class="token function">install</span> @tsed/logger-smtp
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br></div></div><h2 id="configuration"><a href="#configuration" class="header-anchor">#</a> Configuration</h2> <ul><li><code>type</code> - <code>smtp</code></li> <li><code>SMTP</code> - <code>object</code> (optional, if not present will use <code>transport</code> field)
<ul><li><code>host</code> - <code>string</code> (optional, defaults to <code>localhost</code>)</li> <li><code>port</code> - <code>integer</code> (optional, defaults to <code>25</code>)</li> <li><code>auth</code> - <code>object</code> (optional) - authentication details
<ul><li><code>user</code> - <code>string</code></li> <li><code>pass</code> - <code>string</code></li></ul></li></ul></li> <li><code>transport</code> - <code>object</code> (optional, if not present will use <code>SMTP</code>) - see <a href="https://nodemailer.com/smtp/" target="_blank" rel="noopener noreferrer"><code>nodemailer</code><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a> docs for transport options
<ul><li><code>plugin</code> - <code>string</code> (optional, defaults to <code>smtp</code>) - the nodemailer transport plugin to use</li> <li><code>options</code> - <code>object</code> - configuration for the transport plugin</li></ul></li> <li><code>attachment</code> - <code>object</code> (optional) - send logs as email attachment
<ul><li><code>enable</code> - <code>boolean</code> (optional, defaults to <code>false</code>)</li> <li><code>message</code> - <code>string</code> (optional, defaults to <code>See logs as attachment</code>) - message to put in body of email</li> <li><code>filename</code> - <code>string</code> (optional, defaults to <code>default.log</code>) - attachment filename</li></ul></li> <li><code>sendInterval</code> - <code>integer</code> (optional, defaults to <code>0</code>) - batch emails and send in one email every <code>sendInterval</code> seconds, if <code>0</code> then every log message will send an email.</li> <li><code>shutdownTimeout</code> - <code>integer</code> (optional, defaults to <code>5</code>) - time in seconds to wait for emails to be sent during shutdown</li> <li><code>recipients</code> - <code>string</code> - email addresses to send the logs to</li> <li><code>subject</code> - <code>string</code> (optional, defaults to message from first log event in batch) - subject for email</li> <li><code>sender</code> - <code>string</code> (optional) - who the logs should be sent as</li> <li><code>html</code> - <code>boolean</code> (optional, defaults to <code>false</code>) - send the email as HTML instead of plain text</li> <li><code>layout</code> - <code>object</code> (optional, defaults to basicLayout) - see <a href="https://logger.tsed.io/layouts.html" target="_blank" rel="noopener noreferrer">layouts<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></li> <li><code>cc</code> - <code>string</code> (optional) - email addresses to send the carbon-copy logs to</li> <li><code>bcc</code> - <code>string</code> (optional) - email addresses to send the blind-carbon-copy logs to</li></ul> <h2 id="example-default-config"><a href="#example-default-config" class="header-anchor">#</a> Example (default config)</h2> <div class="language-typescript line-numbers-mode"><pre class="language-typescript"><code><span class="token keyword">import</span> <span class="token punctuation">{</span>Logger<span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">&quot;@tsed/logger&quot;</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token string">&quot;@tsed/logger-smtp&quot;</span>

<span class="token keyword">const</span> logger <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Logger</span><span class="token punctuation">(</span><span class="token string">&quot;loggerName&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

logger<span class="token punctuation">.</span>appenders<span class="token punctuation">.</span><span class="token keyword">set</span><span class="token punctuation">(</span><span class="token string">&quot;email&quot;</span><span class="token punctuation">,</span> <span class="token punctuation">{</span>
  <span class="token keyword">type</span><span class="token operator">:</span> <span class="token string">&quot;smtp&quot;</span><span class="token punctuation">,</span> 
  level<span class="token operator">:</span> <span class="token punctuation">[</span><span class="token string">&quot;error&quot;</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
  recipients<span class="token operator">:</span> <span class="token string">&quot;dev.team@company.name&quot;</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br></div></div><p>This configuration will send an email using the smtp server running on <code>localhost:25</code>, for every log event of level <code>ERROR</code> and above.
The email will be sent to <code>dev.team@company.name</code>, the subject will be the message part of the log event, the body of the email will be log event formatted by the basic layout function.</p> <h2 id="example-logs-as-attachments-batched"><a href="#example-logs-as-attachments-batched" class="header-anchor">#</a> Example (logs as attachments, batched)</h2> <div class="language-typescript line-numbers-mode"><pre class="language-typescript"><code><span class="token keyword">import</span> <span class="token punctuation">{</span>Logger<span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">&quot;@tsed/logger&quot;</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token string">&quot;@tsed/logger-smtp&quot;</span>

<span class="token keyword">const</span> logger <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Logger</span><span class="token punctuation">(</span><span class="token string">&quot;loggerName&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

logger<span class="token punctuation">.</span>appenders<span class="token punctuation">.</span><span class="token keyword">set</span><span class="token punctuation">(</span><span class="token string">&quot;email&quot;</span><span class="token punctuation">,</span> <span class="token punctuation">{</span>
  <span class="token keyword">type</span><span class="token operator">:</span> <span class="token string">&quot;smtp&quot;</span><span class="token punctuation">,</span> 
  level<span class="token operator">:</span> <span class="token punctuation">[</span><span class="token string">&quot;error&quot;</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
  recipients<span class="token operator">:</span> <span class="token string">&quot;dev.team@company.name&quot;</span><span class="token punctuation">,</span>
  subject<span class="token operator">:</span> <span class="token string">&quot;Latest logs&quot;</span><span class="token punctuation">,</span>
  sender<span class="token operator">:</span> <span class="token string">&quot;my.application@company.name&quot;</span><span class="token punctuation">,</span>
  attachment<span class="token operator">:</span> <span class="token punctuation">{</span>
    enable<span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span>
    filename<span class="token operator">:</span> <span class="token string">&quot;latest.log&quot;</span><span class="token punctuation">,</span>
    message<span class="token operator">:</span> <span class="token string">&quot;See the attachment for the latest logs&quot;</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
  sendInterval<span class="token operator">:</span> <span class="token number">3600</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br></div></div><p>This configuration will send an email once every hour, with all the log events of level <code>ERROR</code> and above as an attached file.</p> <h2 id="example-custom-smtp-host"><a href="#example-custom-smtp-host" class="header-anchor">#</a> Example (custom SMTP host)</h2> <div class="language-javascript line-numbers-mode"><pre class="language-javascript"><code><span class="token keyword">import</span> <span class="token punctuation">{</span>Logger<span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">&quot;@tsed/logger&quot;</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token string">&quot;@tsed/logger-smtp&quot;</span>

<span class="token keyword">const</span> logger <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Logger</span><span class="token punctuation">(</span><span class="token string">&quot;loggerName&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

logger<span class="token punctuation">.</span>appenders<span class="token punctuation">.</span><span class="token function">set</span><span class="token punctuation">(</span><span class="token string">&quot;email&quot;</span><span class="token punctuation">,</span> <span class="token punctuation">{</span>
  type<span class="token operator">:</span> <span class="token string">&quot;smtp&quot;</span><span class="token punctuation">,</span> 
  level<span class="token operator">:</span> <span class="token punctuation">[</span><span class="token string">&quot;error&quot;</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
  recipients<span class="token operator">:</span> <span class="token string">&quot;dev.team@company.name&quot;</span><span class="token punctuation">,</span>
  <span class="token constant">SMTP</span><span class="token operator">:</span> <span class="token punctuation">{</span> host<span class="token operator">:</span> <span class="token string">'smtp.company.name'</span><span class="token punctuation">,</span> port<span class="token operator">:</span> <span class="token number">8025</span> <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br></div></div><p>This configuration can also be written as:</p> <div class="language-javascript line-numbers-mode"><pre class="language-javascript"><code><span class="token keyword">import</span> <span class="token punctuation">{</span>Logger<span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">&quot;@tsed/logger&quot;</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token string">&quot;@tsed/logger-smtp&quot;</span>

<span class="token keyword">const</span> logger <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Logger</span><span class="token punctuation">(</span><span class="token string">&quot;loggerName&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

logger<span class="token punctuation">.</span>appenders<span class="token punctuation">.</span><span class="token function">set</span><span class="token punctuation">(</span><span class="token string">&quot;email&quot;</span><span class="token punctuation">,</span> <span class="token punctuation">{</span>
  type<span class="token operator">:</span> <span class="token string">&quot;smtp&quot;</span><span class="token punctuation">,</span> 
  level<span class="token operator">:</span> <span class="token punctuation">[</span><span class="token string">&quot;error&quot;</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
  recipients<span class="token operator">:</span> <span class="token string">&quot;dev.team@company.name&quot;</span><span class="token punctuation">,</span>
  transport<span class="token operator">:</span> <span class="token punctuation">{</span>
    plugin<span class="token operator">:</span> <span class="token string">'smtp'</span><span class="token punctuation">,</span>
    options<span class="token operator">:</span> <span class="token punctuation">{</span>
      host<span class="token operator">:</span> <span class="token string">'smtp.company.name'</span><span class="token punctuation">,</span>
      port<span class="token operator">:</span> <span class="token number">8025</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br></div></div><p>A similar config can be used to specify a different transport plugin than <code>smtp</code>. See the <a href="https://nodemailer.com/smtp/" target="_blank" rel="noopener noreferrer"><code>nodemailer</code><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a> docs for more details.</p></div> <div class="page-nav"><p class="inner"><span class="prev">
      ←
      <a href="/appenders/stderr.html" class="prev">Standard Error Appender</a></span> <span class="next"><a href="/appenders/custom.html">Custom Appender</a>
      →
    </span></p></div> <section class="other-topics"><ul><h3 class="heading">
          Other <br><b>topics</b></h3> <li><a href="/appenders/console.html">Console Appender</a></li><li><a href="/appenders/file.html">File Appender</a></li><li><a href="/appenders/file-date.html">Date Rolling File Appender</a></li><li><a href="/appenders/stdout.html">Standard Out Appender</a></li><li><a href="/appenders/stderr.html">Standard Error Appender</a></li><li><a href="/appenders/smtp.html" class="router-link-exact-active router-link-active">SMTP Appender</a></li><li><a href="/layouts/basic.html">Basic layout</a></li><li><a href="/layouts/colored.html">Colored layout</a></li><li><a href="/layouts/dummy.html">Dummy layout</a></li><li><a href="/layouts/message-pass-through.html">Message Pass-Through layout</a></li><li><a href="/layouts/json.html">Json layout</a></li><li><a href="/layouts/pattern.html">Pattern layout</a></li> </ul></section></article></div></main> <footer class="footer --with-sidebar"><div class="footer__improve-docs"><div class="container"><p>
        Caught a mistake or want to contribute to the documentation?
        <a href="https://github.com/TypedProject/logger/edit/master/docs/appenders/smtp.md" target="_blank" rel="noopener noreferrer">Edit on Github</a></p></div></div> <div class="container--footer"><div class="container container--padded"><div class="footer__content"><div class="footer__next-step-header">
          Contribute
        </div> <p>
          Help shape the future of Ts.Logger by joining our team and send us pull requests via our
          <a href="https://github.com/TypedProject/logger">GitHub repository!</a></p> <div class="footer__next-step-header">
          License
        </div> <p>
          Released under the <a href="#/license">MIT License</a> - © Copyright 2016 - 2020.
        </p> <a href="" title="Github" target="_blank" rel="noopener noreferrer" class="github-stars"><svg aria-hidden="true" data-prefix="fab" data-icon="github" role="img" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 496 512" data-fa-i2svg class="svg-inline--fa fa-github fa-w-16"><path fill="currentColor" d="M165.9 397.4c0 2-2.3 3.6-5.2 3.6-3.3.3-5.6-1.3-5.6-3.6 0-2 2.3-3.6 5.2-3.6 3-.3 5.6 1.3 5.6 3.6zm-31.1-4.5c-.7 2 1.3 4.3 4.3 4.9 2.6 1 5.6 0 6.2-2s-1.3-4.3-4.3-5.2c-2.6-.7-5.5.3-6.2 2.3zm44.2-1.7c-2.9.7-4.9 2.6-4.6 4.9.3 2 2.9 3.3 5.9 2.6 2.9-.7 4.9-2.6 4.6-4.6-.3-1.9-3-3.2-5.9-2.9zM244.8 8C106.1 8 0 113.3 0 252c0 110.9 69.8 205.8 169.5 239.2 12.8 2.3 17.3-5.6 17.3-12.1 0-6.2-.3-40.4-.3-61.4 0 0-70 15-84.7-29.8 0 0-11.4-29.1-27.8-36.6 0 0-22.9-15.7 1.6-15.4 0 0 24.9 2 38.6 25.8 21.9 38.6 58.6 27.5 72.9 20.9 2.3-16 8.8-27.1 16-33.7-55.9-6.2-112.3-14.3-112.3-110.5 0-27.5 7.6-41.3 23.6-58.9-2.6-6.5-11.1-33.3 2.6-67.9 20.9-6.5 69 27 69 27 20-5.6 41.5-8.5 62.8-8.5s42.8 2.9 62.8 8.5c0 0 48.1-33.6 69-27 13.7 34.7 5.2 61.4 2.6 67.9 16 17.7 25.8 31.5 25.8 58.9 0 96.5-58.9 104.2-114.8 110.5 9.2 7.9 17 22.9 17 46.4 0 33.7-.3 75.4-.3 83.6 0 6.5 4.6 14.4 17.3 12.1C428.2 457.8 496 362.9 496 252 496 113.3 383.5 8 244.8 8zM97.2 352.9c-1.3 1-1 3.3.7 5.2 1.6 1.6 3.9 2.3 5.2 1 1.3-1 1-3.3-.7-5.2-1.6-1.6-3.9-2.3-5.2-1zm-10.8-8.1c-.7 1.3.3 2.9 2.3 3.9 1.6 1 3.6.7 4.3-.7.7-1.3-.3-2.9-2.3-3.9-2-.6-3.6-.3-4.3.7zm32.4 35.6c-1.6 1.3-1 4.3 1.3 6.2 2.3 2.3 5.2 2.6 6.5 1 1.3-1.3.7-4.3-1.3-6.2-2.2-2.3-5.2-2.6-6.5-1zm-11.4-14.7c-1.6 1-1.6 3.6 0 5.9 1.6 2.3 4.3 3.3 5.6 2.3 1.6-1.3 1.6-3.9 0-6.2-1.4-2.3-4-3.3-5.6-2z"></path></svg> <span class="github-stars__stargazers-count">0</span></a></div></div></div></footer></div><div class="global-ui"></div></div>
    <script src="/assets/js/app.304af22d.js" defer></script><script src="/assets/js/4.98a063a0.js" defer></script><script src="/assets/js/1.3fc21ef4.js" defer></script><script src="/assets/js/62.5836e737.js" defer></script>
  </body>
</html>
